<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mansoor Protocol — Launcher</title>
<h1>Mansoor Protocol — Launcher</h1>
<p class="lead">One click to copy the current activation script, then open your AI chat.</p>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 24px; line-height: 1.5; }
    .wrap { max-width: 780px; margin: 0 auto; }
    h1 { font-size: 28px; margin: 0 0 8px; }
    p.lead { font-size: 16px; opacity: 0.85; }
    .card { border: 1px solid #e5e7eb; border-radius: 16px; padding: 20px; margin: 20px 0; box-shadow: 0 2px 10px rgba(0,0,0,.04); }
    .row { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 12px; }
    button, a.btn { appearance: none; border: none; border-radius: 999px; padding: 12px 18px; font-size: 15px; cursor: pointer; text-decoration: none; display: inline-block; }
    .primary { background: black; color: white; }
    .ghost { background: white; color: black; border: 1px solid #d1d5db; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    pre { overflow: auto; background: #f8fafc; padding: 12px; border-radius: 12px; border: 1px solid #e5e7eb; }
    footer { margin-top: 32px; font-size: 13px; opacity: 0.7;}
    ul { margin-top: 8px; }
    .note { font-size: 13px; opacity:.8; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Mansoor Protocol — Launcher</h1>
    <p class="lead">One click to copy the current activation script, then open your AI chat.</p>

    <div class="card">
      <strong>Step 1 — Copy the live script</strong>
      <div class="row">
        <button id="copyBtn" class="primary">Copy Script</button>
        <button id="viewBtn" class="ghost">View Script</button>
      </div>
      <div id="status" style="margin-top:10px; font-size:14px;"></div>
      <p class="note">Why not auto-paste? Browsers prevent pages from inserting text into other websites for safety. 
      The best workaround is the <em>bookmarklet</em> below, which you click <em>on</em> the chat page to auto-fill the box.</p>
    </div>

    <div class="card">
      <strong>Step 2 — Open your AI</strong>
      <div class="grid">
        <a class="btn ghost" href="https://chatgpt.com/" target="_blank" rel="noopener">Open ChatGPT</a>
        <a class="btn ghost" href="https://claude.ai/new" target="_blank" rel="noopener">Open Claude</a>
        <a class="btn ghost" href="https://gemini.google.com/app" target="_blank" rel="noopener">Open Gemini</a>
        <a class="btn ghost" href="https://poe.com/" target="_blank" rel="noopener">Open Poe</a>
      </div>
      <p class="note">Start a new chat, then paste. Or use the bookmarklet below to auto-insert.</p>
      </div>
      <p style="font-size:13px; opacity:.75; margin-top:10px;">Start a new chat, paste, then ask your question in your own words.</p>
    </div>

    <details class="card" open>
           <summary><strong>What’s a bookmarklet? (optional tool)</strong></summary>
      <p>A <em>bookmarklet</em> is a normal browser bookmark that runs a tiny bit of code when you click it. 
      Here, it will pull the latest Mansoor Protocol activation script and place it into the message box of a new ChatGPT/Claude/Gemini/Poe chat—so you don’t need to paste manually.</p>

      <p><strong>How to add it</strong></p>
      <ul>
        <li>Copy the entire line of code below.</li>
        <li>Create a new browser bookmark (Bookmarks → Add Bookmark).</li>
        <li>Paste the code into the bookmark’s URL/Location field. Name it “Mansoor Protocol”. Save.</li>
      </ul>

      <p><strong>How to use it</strong></p>
      <ul>
        <li>Open a <em>new</em> chat page in your AI (ChatGPT, Claude, Gemini, Poe).</li>
        <li>Click the “Mansoor Protocol” bookmarklet. It will insert the current script into the chat box.</li>
        <li>Press Enter to activate.</li>
      </ul>

      <pre class="mono" id="bmCode"></pre>
    </details>

    <footer>
      This launcher always pulls the latest version from the live script URL.
    </footer>
  </div>

<script>
const RAW_URL = "https://gist.githubusercontent.com/Mansoor-Protocol/9ac9c9fb9f0194b62acf486b467e44bf/raw/mansoor-protocol-activation.txt";

async function fetchScript() {
  const res = await fetch(RAW_URL, { cache: "no-store" });
  if (!res.ok) throw new Error("Failed to fetch script");
  const text = await res.text();
  return text;
}

async function copyScript() {
  const status = document.getElementById("status");
  status.textContent = "Fetching…";
  try {
    const text = await fetchScript();
    await navigator.clipboard.writeText(text);
    status.textContent = "Copied. Now open your AI and paste.";
  } catch (e) {
    console.error(e);
    status.textContent = "Couldn’t copy automatically. Click “View Script,” then copy manually.";
  }
}

async function viewScript() {
  window.open(RAW_URL, "_blank", "noopener");
}

function escapeHtml(str){return str.replace(/[&<>"']/g, m=>({ "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;" }[m]))}

function buildBookmarklet(scriptUrl){
  const code = `javascript:(async()=>{const U='https://gist.githubusercontent.com/Mansoor-Protocol/9ac9c9fb9f0194b62acf486b467e44bf/raw/mansoor-protocol-activation.txt';const F=()=>document.querySelector('textarea, [contenteditable="true"]');const box=F();if(!box){alert('Open a new chat, then click again.');return;}try{const r=await fetch(U,{cache:'no-store'});if(!r.ok)throw 0;const t=await r.text();if(box.tagName==='TEXTAREA'){box.value=t;box.dispatchEvent(new InputEvent('input',{bubbles:true}))}else{box.focus();document.execCommand('insertText',false,t);} }catch(e){prompt('Copy this into the chat box:', await (await fetch(U)).text());}})();`;
  return code;
}

document.getElementById("copyBtn").addEventListener("click", copyScript);
document.getElementById("viewBtn").addEventListener("click", viewScript);

document.getElementById("bmCode").textContent = buildBookmarklet(RAW_URL);
</script>
</body>
</html>
